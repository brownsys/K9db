CREATE TABLE IF NOT EXISTS "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL);
CREATE TABLE IF NOT EXISTS "auth_user" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "password" varchar(128) NOT NULL, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "username" varchar(150) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "email" varchar(254) NOT NULL, "is_staff" bool NOT NULL, "is_active" bool NOT NULL, "date_joined" datetime NOT NULL, "last_name" varchar(150) NOT NULL);
CREATE TABLE IF NOT EXISTS "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE);
CREATE TABLE IF NOT EXISTS "filer_clipboarditem" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "clipboard_id" integer NOT NULL REFERENCES "filer_clipboard" ("id") DEFERRABLE INITIALLY DEFERRED, "file_id" integer NOT NULL REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "filer_clipboard" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_counter" ("id" integer NOT NULL PRIMARY KEY, "value" integer NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_currency" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(3) NOT NULL UNIQUE, "decimal_places" smallint unsigned NOT NULL CHECK ("decimal_places" >= 0));
CREATE TABLE IF NOT EXISTS "shuup_customertaxgroup" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "enabled" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_payment" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "gateway_id" varchar(32) NOT NULL, "payment_identifier" varchar(96) NOT NULL UNIQUE, "amount_value" decimal NOT NULL, "foreign_amount_value" decimal NULL, "foreign_currency" varchar(4) NULL, "description" varchar(256) NOT NULL, "order_id" integer NOT NULL REFERENCES "shuup_order" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_persistentcacheentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "module" varchar(64) NOT NULL, "key" varchar(64) NOT NULL, "time" datetime NOT NULL, "data" text NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_productcrosssell" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "weight" integer NOT NULL, "type" integer NOT NULL, "product1_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "product2_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_producttype" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE);
CREATE TABLE IF NOT EXISTS "shuup_productvariationresult" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "combination_hash" varchar(40) NOT NULL UNIQUE, "status" integer NOT NULL, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "result_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productvariationvariable" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "ordering" smallint NOT NULL, "identifier" varchar(64) NULL, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productvariationvariablevalue" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "ordering" smallint NOT NULL, "identifier" varchar(64) NULL, "variable_id" integer NOT NULL REFERENCES "shuup_productvariationvariable" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shopproduct_categories" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shopproduct_id" integer NOT NULL REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED, "category_id" integer NOT NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_carrier" ("serviceprovider_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_serviceprovider" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_fixedcostbehaviorcomponent" ("servicebehaviorcomponent_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED, "price_value" decimal NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_groupavailabilitybehaviorcomponent" ("servicebehaviorcomponent_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_ordertotallimitbehaviorcomponent" ("servicebehaviorcomponent_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED, "min_price_value" decimal NULL, "max_price_value" decimal NULL);
CREATE TABLE IF NOT EXISTS "shuup_paymentprocessor" ("serviceprovider_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_serviceprovider" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_personcontact" ("contact_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "gender" varchar(4) NOT NULL, "birth_date" date NULL, "first_name" varchar(120) NOT NULL, "last_name" varchar(120) NOT NULL, "user_id" integer NULL UNIQUE REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_staffonlybehaviorcomponent" ("servicebehaviorcomponent_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_weightbasedpricingbehaviorcomponent" ("servicebehaviorcomponent_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_weightlimitsbehaviorcomponent" ("servicebehaviorcomponent_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED, "min_weight" decimal NULL, "max_weight" decimal NULL);
CREATE TABLE IF NOT EXISTS "shuup_suppliedproduct" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "sku" varchar(128) NOT NULL, "alert_limit" integer NOT NULL, "physical_count" decimal NOT NULL, "logical_count" decimal NOT NULL, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shippingmethod_behavior_components" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shippingmethod_id" integer NOT NULL REFERENCES "shuup_shippingmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "servicebehaviorcomponent_id" integer NOT NULL REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_savedaddress" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "role" integer NOT NULL, "status" integer NOT NULL, "title" varchar(255) NOT NULL, "address_id" integer NOT NULL REFERENCES "shuup_mutableaddress" ("id") DEFERRABLE INITIALLY DEFERRED, "owner_id" integer NOT NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productmedia_shops" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "productmedia_id" integer NOT NULL REFERENCES "shuup_productmedia" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_paymentmethod_behavior_components" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "paymentmethod_id" integer NOT NULL REFERENCES "shuup_paymentmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "servicebehaviorcomponent_id" integer NOT NULL REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_contactgroup_members" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "contactgroup_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "contact_id" integer NOT NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_contact_shops" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "contact_id" integer NOT NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_configurationitem" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "key" varchar(100) NOT NULL, "value" text NOT NULL, "shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_category_shops" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" integer NOT NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_basket_products" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "basket_id" integer NOT NULL REFERENCES "shuup_basket" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_customcarrier" ("carrier_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_carrier" ("serviceprovider_ptr_id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_groupavailabilitybehaviorcomponent_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "groupavailabilitybehaviorcomponent_id" integer NOT NULL REFERENCES "shuup_groupavailabilitybehaviorcomponent" ("servicebehaviorcomponent_ptr_id") DEFERRABLE INITIALLY DEFERRED, "contactgroup_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_companycontact_members" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "companycontact_id" integer NOT NULL REFERENCES "shuup_companycontact" ("contact_ptr_id") DEFERRABLE INITIALLY DEFERRED, "contact_id" integer NOT NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_basket" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "key" varchar(32) NOT NULL UNIQUE, "created_on" datetime NOT NULL, "updated_on" datetime NOT NULL, "persistent" bool NOT NULL, "deleted" bool NOT NULL, "finished" bool NOT NULL, "title" varchar(64) NOT NULL, "data" text NOT NULL, "taxless_total_price_value" decimal NULL, "taxful_total_price_value" decimal NULL, "currency" varchar(4) NOT NULL, "prices_include_tax" bool NOT NULL, "product_count" integer NOT NULL, "creator_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "customer_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "orderer_id" integer NULL REFERENCES "shuup_personcontact" ("contact_ptr_id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_manufacturer_shops" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "manufacturer_id" integer NOT NULL REFERENCES "shuup_manufacturer" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_order_customer_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "order_id" integer NOT NULL REFERENCES "shuup_order" ("id") DEFERRABLE INITIALLY DEFERRED, "contactgroup_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "filer_thumbnailoption" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "width" integer NOT NULL, "height" integer NOT NULL, "crop" bool NOT NULL, "upscale" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "filer_folderpermission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "type" smallint NOT NULL, "everybody" bool NOT NULL, "can_edit" smallint NULL, "can_read" smallint NULL, "can_add_children" smallint NULL, "folder_id" integer NULL REFERENCES "filer_folder" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_mediafile" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "file_id" integer NOT NULL REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_mediafile_shops" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "mediafile_id" integer NOT NULL REFERENCES "shuup_mediafile" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_mediafolder_shops" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "mediafolder_id" integer NOT NULL REFERENCES "shuup_mediafolder" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_contactgroup" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_contactgrouppricedisplay" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "show_pricing" bool NOT NULL, "show_prices_including_taxes" bool NULL, "hide_prices" bool NULL, "group_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_label" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(128) NULL UNIQUE, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_paymentmethod_labels" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "paymentmethod_id" integer NOT NULL REFERENCES "shuup_paymentmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "label_id" integer NOT NULL REFERENCES "shuup_label" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shippingmethod_labels" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shippingmethod_id" integer NOT NULL REFERENCES "shuup_shippingmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "label_id" integer NOT NULL REFERENCES "shuup_label" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shop_labels" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "label_id" integer NOT NULL REFERENCES "shuup_label" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_orderline_labels" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "orderline_id" integer NOT NULL REFERENCES "shuup_orderline" ("id") DEFERRABLE INITIALLY DEFERRED, "label_id" integer NOT NULL REFERENCES "shuup_label" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productattribute" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "datetime_value" datetime NULL, "untranslated_string_value" text NOT NULL, "attribute_id" integer NOT NULL REFERENCES "shuup_attribute" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "numeric_value" decimal NULL);
CREATE TABLE IF NOT EXISTS "shuup_shop_staff_members" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contactgroupsalesrange" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "min_value" decimal NULL, "max_value" decimal NULL, "group_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_couponusage" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "coupon_id" integer NOT NULL REFERENCES "campaigns_coupon" ("id") DEFERRABLE INITIALLY DEFERRED, "created_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "modified_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "order_id" integer NOT NULL REFERENCES "shuup_order" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_basketdiscountamount" ("basketdiscounteffect_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketdiscounteffect" ("id") DEFERRABLE INITIALLY DEFERRED, "discount_amount" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_basketdiscountpercentage" ("basketdiscounteffect_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketdiscounteffect" ("id") DEFERRABLE INITIALLY DEFERRED, "discount_percentage" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_basketmaxtotalamountcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "amount_value" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_basketmaxtotalproductamountcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "product_count" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_baskettotalamountcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "amount_value" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_baskettotalproductamountcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "product_count" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_categoryfilter" ("catalogfilter_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_catalogfilter" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_categoryfilter_categories" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "categoryfilter_id" integer NOT NULL REFERENCES "campaigns_categoryfilter" ("catalogfilter_ptr_id") DEFERRABLE INITIALLY DEFERRED, "category_id" integer NOT NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_categoryproductsbasketcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "operator" integer NOT NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0));
CREATE TABLE IF NOT EXISTS "campaigns_contactbasketcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contactbasketcondition_contacts" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "contactbasketcondition_id" integer NOT NULL REFERENCES "campaigns_contactbasketcondition" ("basketcondition_ptr_id") DEFERRABLE INITIALLY DEFERRED, "contact_id" integer NOT NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contactcondition" ("contextcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_contextcondition" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contactcondition_contacts" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "contactcondition_id" integer NOT NULL REFERENCES "campaigns_contactcondition" ("contextcondition_ptr_id") DEFERRABLE INITIALLY DEFERRED, "contact_id" integer NOT NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contactgroupbasketcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contactgroupbasketcondition_contact_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "contactgroupbasketcondition_id" integer NOT NULL REFERENCES "campaigns_contactgroupbasketcondition" ("basketcondition_ptr_id") DEFERRABLE INITIALLY DEFERRED, "contactgroup_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contactgroupcondition" ("contextcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_contextcondition" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contactgroupcondition_contact_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "contactgroupcondition_id" integer NOT NULL REFERENCES "campaigns_contactgroupcondition" ("contextcondition_ptr_id") DEFERRABLE INITIALLY DEFERRED, "contactgroup_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_discountfromcategoryproducts" ("basketlineeffect_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketlineeffect" ("id") DEFERRABLE INITIALLY DEFERRED, "discount_amount" decimal NULL, "discount_percentage" decimal NULL, "category_id" integer NOT NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_discountfromproduct_products" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "discountfromproduct_id" integer NOT NULL REFERENCES "campaigns_discountfromproduct" ("basketlineeffect_ptr_id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_freeproductline" ("basketlineeffect_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketlineeffect" ("id") DEFERRABLE INITIALLY DEFERRED, "quantity" decimal NOT NULL);
CREATE TABLE IF NOT EXISTS "campaigns_freeproductline_products" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "freeproductline_id" integer NOT NULL REFERENCES "campaigns_freeproductline" ("basketlineeffect_ptr_id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_productdiscountamount" ("productdiscounteffect_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_productdiscounteffect" ("id") DEFERRABLE INITIALLY DEFERRED, "discount_amount" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_productdiscountpercentage" ("productdiscounteffect_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_productdiscounteffect" ("id") DEFERRABLE INITIALLY DEFERRED, "discount_percentage" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_productfilter" ("catalogfilter_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_catalogfilter" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_productfilter_products" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "productfilter_id" integer NOT NULL REFERENCES "campaigns_productfilter" ("catalogfilter_ptr_id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_productsinbasketcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "operator" integer NOT NULL, "quantity" integer unsigned NOT NULL CHECK ("quantity" >= 0));
CREATE TABLE IF NOT EXISTS "campaigns_productsinbasketcondition_products" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "productsinbasketcondition_id" integer NOT NULL REFERENCES "campaigns_productsinbasketcondition" ("basketcondition_ptr_id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_producttypefilter" ("catalogfilter_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_catalogfilter" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_producttypefilter_product_types" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "producttypefilter_id" integer NOT NULL REFERENCES "campaigns_producttypefilter" ("catalogfilter_ptr_id") DEFERRABLE INITIALLY DEFERRED, "producttype_id" integer NOT NULL REFERENCES "shuup_producttype" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_productdiscounteffect" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "campaign_id" integer NOT NULL REFERENCES "campaigns_catalogcampaign" ("id") DEFERRABLE INITIALLY DEFERRED, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_contextcondition" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "active" bool NOT NULL, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_catalogfiltercachedshopproduct" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "filter_id" integer NOT NULL REFERENCES "campaigns_catalogfilter" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_product_id" integer NOT NULL REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_catalogfilter" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "active" bool NOT NULL, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_catalogcampaign_conditions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "catalogcampaign_id" integer NOT NULL REFERENCES "campaigns_catalogcampaign" ("id") DEFERRABLE INITIALLY DEFERRED, "contextcondition_id" integer NOT NULL REFERENCES "campaigns_contextcondition" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_catalogcampaign_filters" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "catalogcampaign_id" integer NOT NULL REFERENCES "campaigns_catalogcampaign" ("id") DEFERRABLE INITIALLY DEFERRED, "catalogfilter_id" integer NOT NULL REFERENCES "campaigns_catalogfilter" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_basketlineeffect" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "campaign_id" integer NOT NULL REFERENCES "campaigns_basketcampaign" ("id") DEFERRABLE INITIALLY DEFERRED, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_basketdiscounteffect" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "campaign_id" integer NOT NULL REFERENCES "campaigns_basketcampaign" ("id") DEFERRABLE INITIALLY DEFERRED, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_basketcondition" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "active" bool NOT NULL, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_basketcampaign_conditions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "basketcampaign_id" integer NOT NULL REFERENCES "campaigns_basketcampaign" ("id") DEFERRABLE INITIALLY DEFERRED, "basketcondition_id" integer NOT NULL REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_baskettotalundiscountedproductamountcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "amount_value" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_discountpercentagefromundiscounted" ("basketdiscounteffect_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketdiscounteffect" ("id") DEFERRABLE INITIALLY DEFERRED, "discount_percentage" decimal NULL);
CREATE TABLE IF NOT EXISTS "campaigns_categoryproductsbasketcondition_categories" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "categoryproductsbasketcondition_id" integer NOT NULL REFERENCES "campaigns_categoryproductsbasketcondition" ("basketcondition_ptr_id") DEFERRABLE INITIALLY DEFERRED, "category_id" integer NOT NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_categoryproductsbasketcondition_excluded_categories" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "categoryproductsbasketcondition_id" integer NOT NULL REFERENCES "campaigns_categoryproductsbasketcondition" ("basketcondition_ptr_id") DEFERRABLE INITIALLY DEFERRED, "category_id" integer NOT NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_hourbasketcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "hour_start" time NOT NULL, "hour_end" time NOT NULL, "days" varchar(255) NOT NULL);
CREATE TABLE IF NOT EXISTS "campaigns_hourcondition" ("contextcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_contextcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "hour_start" time NOT NULL, "hour_end" time NOT NULL, "days" varchar(255) NOT NULL);
CREATE TABLE IF NOT EXISTS "campaigns_basketcampaign" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(120) NOT NULL, "identifier" varchar(64) NULL UNIQUE, "active" bool NOT NULL, "start_datetime" datetime NULL, "end_datetime" datetime NULL, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "basket_line_text" varchar(120) NOT NULL, "coupon_id" integer NULL UNIQUE REFERENCES "campaigns_coupon" ("id") DEFERRABLE INITIALLY DEFERRED, "created_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "modified_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_catalogcampaign" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(120) NOT NULL, "identifier" varchar(64) NULL UNIQUE, "start_datetime" datetime NULL, "end_datetime" datetime NULL, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "created_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "modified_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "active" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "campaigns_coupon" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(12) NOT NULL, "usage_limit_customer" integer unsigned NULL CHECK ("usage_limit_customer" >= 0), "active" bool NOT NULL, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "created_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "modified_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "usage_limit" integer unsigned NULL CHECK ("usage_limit" >= 0));
CREATE TABLE IF NOT EXISTS "campaigns_discountfromproduct" ("basketlineeffect_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketlineeffect" ("id") DEFERRABLE INITIALLY DEFERRED, "discount_amount" decimal NULL, "per_line_discount" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "campaigns_basketcampaign_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "public_name" varchar(120) NOT NULL, "master_id" integer NULL REFERENCES "campaigns_basketcampaign" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_catalogcampaign_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "public_name" varchar(120) NOT NULL, "master_id" integer NULL REFERENCES "campaigns_catalogcampaign" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_childrenproductcondition" ("basketcondition_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "campaigns_basketcondition" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "campaigns_basketcampaignlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "campaigns_basketcampaign" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "campaigns_catalogcampaignlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "campaigns_catalogcampaign" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "campaigns_couponlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "campaigns_coupon" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "campaigns_couponusagelogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "campaigns_couponusage" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "carousel_carousel_shops" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "carousel_id" integer NOT NULL REFERENCES "carousel_carousel" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "carousel_carousel" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL, "animation" integer NOT NULL, "interval" integer NOT NULL, "pause_on_hover" bool NOT NULL, "is_arrows_visible" bool NOT NULL, "use_dot_navigation" bool NOT NULL, "image_width" integer NOT NULL, "image_height" integer NOT NULL, "arrows_color" varchar(9) NULL);
CREATE TABLE IF NOT EXISTS "carousel_slide" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NULL, "ordering" integer NULL, "target" integer NOT NULL, "available_from" datetime NULL, "carousel_id" integer NOT NULL REFERENCES "carousel_carousel" ("id") DEFERRABLE INITIALLY DEFERRED, "category_link_id" integer NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED, "cms_page_link_id" integer NULL REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED, "product_link_id" integer NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "active_dot_color" varchar(9) NULL, "inactive_dot_color" varchar(9) NULL, "available_to" datetime NULL);
CREATE TABLE IF NOT EXISTS "carousel_slide_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "caption" varchar(80) NULL, "caption_text" text NULL, "external_link" varchar(800) NULL, "image_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "master_id" integer NULL REFERENCES "carousel_slide" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "default_tax_taxrule_customer_tax_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "taxrule_id" integer NOT NULL REFERENCES "default_tax_taxrule" ("id") DEFERRABLE INITIALLY DEFERRED, "customertaxgroup_id" integer NOT NULL REFERENCES "shuup_customertaxgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "default_tax_taxrule_tax_classes" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "taxrule_id" integer NOT NULL REFERENCES "default_tax_taxrule" ("id") DEFERRABLE INITIALLY DEFERRED, "taxclass_id" integer NOT NULL REFERENCES "shuup_taxclass" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "default_tax_taxrule" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "country_codes_pattern" varchar(300) NOT NULL, "region_codes_pattern" varchar(500) NOT NULL, "postal_codes_pattern" text NOT NULL, "_postal_codes_min" varchar(100) NULL, "_postal_codes_max" varchar(100) NULL, "priority" integer NOT NULL, "override_group" integer NOT NULL, "tax_id" integer NOT NULL REFERENCES "shuup_tax" ("id") DEFERRABLE INITIALLY DEFERRED, "enabled" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_category_visibility_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "category_id" integer NOT NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED, "contactgroup_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_category" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "status" integer NOT NULL, "ordering" integer NOT NULL, "visibility" integer NOT NULL, "lft" integer unsigned NOT NULL CHECK ("lft" >= 0), "rght" integer unsigned NOT NULL CHECK ("rght" >= 0), "tree_id" integer unsigned NOT NULL CHECK ("tree_id" >= 0), "level" integer unsigned NOT NULL CHECK ("level" >= 0), "image_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "visible_in_menu" bool NOT NULL, "parent_id" integer NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_contact" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "modified_on" datetime NULL, "identifier" varchar(64) NULL UNIQUE, "is_active" bool NOT NULL, "_language" varchar(10) NOT NULL, "marketing_permission" bool NOT NULL, "phone" varchar(64) NOT NULL, "www" varchar(128) NOT NULL, "timezone" varchar(63) NULL, "prefix" varchar(64) NOT NULL, "name" varchar(256) NOT NULL, "suffix" varchar(64) NOT NULL, "name_ext" varchar(256) NOT NULL, "email" varchar(256) NOT NULL, "merchant_notes" text NOT NULL, "default_billing_address_id" integer NULL REFERENCES "shuup_mutableaddress" ("id") DEFERRABLE INITIALLY DEFERRED, "default_payment_method_id" integer NULL REFERENCES "shuup_paymentmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "default_shipping_address_id" integer NULL REFERENCES "shuup_mutableaddress" ("id") DEFERRABLE INITIALLY DEFERRED, "default_shipping_method_id" integer NULL REFERENCES "shuup_shippingmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "account_manager_id" integer NULL REFERENCES "shuup_personcontact" ("contact_ptr_id") DEFERRABLE INITIALLY DEFERRED, "registration_shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "options" text NULL, "picture_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "tax_group_id" integer NULL REFERENCES "shuup_customertaxgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_custompaymentprocessor" ("paymentprocessor_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_paymentprocessor" ("serviceprovider_ptr_id") DEFERRABLE INITIALLY DEFERRED, "rounding_mode" varchar(50) NOT NULL, "rounding_quantize" decimal NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_displayunit" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "decimals" smallint unsigned NOT NULL CHECK ("decimals" >= 0), "comparison_value" decimal NOT NULL, "allow_bare_number" bool NOT NULL, "default" bool NOT NULL, "internal_unit_id" integer NOT NULL REFERENCES "shuup_salesunit" ("id") DEFERRABLE INITIALLY DEFERRED, "ratio" decimal NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_immutableaddress" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "prefix" varchar(64) NOT NULL, "name" varchar(255) NOT NULL, "suffix" varchar(64) NOT NULL, "name_ext" varchar(255) NOT NULL, "company_name" varchar(255) NOT NULL, "phone" varchar(64) NOT NULL, "email" varchar(128) NOT NULL, "street" varchar(255) NOT NULL, "street2" varchar(255) NOT NULL, "street3" varchar(255) NOT NULL, "postal_code" varchar(64) NOT NULL, "city" varchar(255) NOT NULL, "region_code" varchar(64) NOT NULL, "region" varchar(64) NOT NULL, "country" varchar(2) NOT NULL, "longitude" decimal NULL, "latitude" decimal NULL, "tax_number" varchar(64) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_manufacturer" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(64) NULL UNIQUE, "url" varchar(128) NULL, "logo_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "name" varchar(128) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_mutableaddress" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "prefix" varchar(64) NOT NULL, "name" varchar(255) NOT NULL, "suffix" varchar(64) NOT NULL, "name_ext" varchar(255) NOT NULL, "company_name" varchar(255) NOT NULL, "phone" varchar(64) NOT NULL, "email" varchar(128) NOT NULL, "street" varchar(255) NOT NULL, "street2" varchar(255) NOT NULL, "street3" varchar(255) NOT NULL, "postal_code" varchar(64) NOT NULL, "city" varchar(255) NOT NULL, "region_code" varchar(64) NOT NULL, "region" varchar(64) NOT NULL, "country" varchar(2) NOT NULL, "longitude" decimal NULL, "latitude" decimal NULL, "tax_number" varchar(64) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_orderlinetax" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(200) NOT NULL, "amount_value" decimal NOT NULL, "ordering" integer NOT NULL, "order_line_id" integer NOT NULL REFERENCES "shuup_orderline" ("id") DEFERRABLE INITIALLY DEFERRED, "tax_id" integer NOT NULL REFERENCES "shuup_tax" ("id") DEFERRABLE INITIALLY DEFERRED, "base_amount_value" decimal NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_producttype_attributes" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "producttype_id" integer NOT NULL REFERENCES "shuup_producttype" ("id") DEFERRABLE INITIALLY DEFERRED, "attribute_id" integer NOT NULL REFERENCES "shuup_attribute" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_salesunit" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "decimals" smallint unsigned NOT NULL CHECK ("decimals" >= 0));
CREATE TABLE IF NOT EXISTS "shuup_shopproduct_payment_methods" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shopproduct_id" integer NOT NULL REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED, "paymentmethod_id" integer NOT NULL REFERENCES "shuup_paymentmethod" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shopproduct_shipping_methods" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shopproduct_id" integer NOT NULL REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED, "shippingmethod_id" integer NOT NULL REFERENCES "shuup_shippingmethod" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shopproduct_suppliers" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shopproduct_id" integer NOT NULL REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shopproduct_visibility_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shopproduct_id" integer NOT NULL REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED, "contactgroup_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_tax" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(64) NULL UNIQUE, "amount_value" decimal NULL, "currency" varchar(4) NULL, "enabled" bool NOT NULL, "rate" decimal NULL);
CREATE TABLE IF NOT EXISTS "shuup_taxclass" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "enabled" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_waivingcostbehaviorcomponent" ("servicebehaviorcomponent_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED, "price_value" decimal NOT NULL, "waive_limit_value" decimal NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_shop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "identifier" varchar(128) NULL UNIQUE, "domain" varchar(128) NULL UNIQUE, "status" integer NOT NULL, "options" text NULL, "currency" varchar(4) NOT NULL, "prices_include_tax" bool NOT NULL, "contact_address_id" integer NULL REFERENCES "shuup_mutableaddress" ("id") DEFERRABLE INITIALLY DEFERRED, "favicon_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "logo_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "owner_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "maintenance_mode" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_servicebehaviorcomponent" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "identifier" varchar(64) NULL UNIQUE);
CREATE TABLE IF NOT EXISTS "shuup_serviceprovider_shops" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "serviceprovider_id" integer NOT NULL REFERENCES "shuup_serviceprovider" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_serviceprovider" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "enabled" bool NOT NULL, "logo_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shipmentproduct" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" decimal NOT NULL, "unit_volume" decimal NOT NULL, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "shipment_id" integer NOT NULL REFERENCES "shuup_shipment" ("id") DEFERRABLE INITIALLY DEFERRED, "unit_weight" decimal NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_weightbasedpricerange" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "max_value" decimal NULL, "price_value" decimal NOT NULL, "component_id" integer NOT NULL REFERENCES "shuup_weightbasedpricingbehaviorcomponent" ("servicebehaviorcomponent_ptr_id") DEFERRABLE INITIALLY DEFERRED, "min_value" decimal NULL);
CREATE TABLE IF NOT EXISTS "shuup_shopproduct" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "visibility" integer NOT NULL, "purchasable" bool NOT NULL, "visibility_limit" integer NOT NULL, "backorder_maximum" decimal NULL, "purchase_multiple" decimal NOT NULL, "minimum_purchase_quantity" decimal NOT NULL, "limit_payment_methods" bool NOT NULL, "default_price_value" decimal NULL, "minimum_price_value" decimal NULL, "display_unit_id" integer NULL REFERENCES "shuup_displayunit" ("id") DEFERRABLE INITIALLY DEFERRED, "primary_category_id" integer NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_primary_image_id" integer NULL REFERENCES "shuup_productmedia" ("id") DEFERRABLE INITIALLY DEFERRED, "available_until" datetime NULL, "limit_shipping_methods" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_category_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(128) NOT NULL, "description" text NOT NULL, "slug" varchar(50) NULL, "master_id" integer NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_contactgroup_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(256) NOT NULL, "master_id" integer NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_customertaxgroup_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(100) NOT NULL, "master_id" integer NULL REFERENCES "shuup_customertaxgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_displayunit_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(150) NOT NULL, "symbol" varchar(50) NOT NULL, "master_id" integer NULL REFERENCES "shuup_displayunit" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_fixedcostbehaviorcomponent_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "description" varchar(100) NOT NULL, "master_id" integer NULL REFERENCES "shuup_fixedcostbehaviorcomponent" ("servicebehaviorcomponent_ptr_id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_label_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(64) NOT NULL, "master_id" integer NULL REFERENCES "shuup_label" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_orderstatus_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(64) NOT NULL, "public_name" varchar(64) NOT NULL, "master_id" integer NULL REFERENCES "shuup_orderstatus" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_paymentmethod_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(100) NOT NULL, "description" varchar(500) NOT NULL, "master_id" integer NULL REFERENCES "shuup_paymentmethod" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productattribute_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "translated_string_value" text NOT NULL, "master_id" integer NULL REFERENCES "shuup_productattribute" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productmedia_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "title" varchar(128) NOT NULL, "description" text NOT NULL, "master_id" integer NULL REFERENCES "shuup_productmedia" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_product_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(256) NOT NULL, "description" text NOT NULL, "short_description" varchar(150) NOT NULL, "slug" varchar(255) NULL, "keywords" text NOT NULL, "variation_name" varchar(128) NOT NULL, "master_id" integer NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_producttype_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(64) NOT NULL, "master_id" integer NULL REFERENCES "shuup_producttype" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productvariationvariable_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(128) NOT NULL, "master_id" integer NULL REFERENCES "shuup_productvariationvariable" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productvariationvariablevalue_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "value" varchar(128) NOT NULL, "master_id" integer NULL REFERENCES "shuup_productvariationvariablevalue" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_serviceprovider_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(100) NOT NULL, "master_id" integer NULL REFERENCES "shuup_serviceprovider" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shippingmethod_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(100) NOT NULL, "description" varchar(500) NOT NULL, "master_id" integer NULL REFERENCES "shuup_shippingmethod" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shopproduct_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(256) NULL, "description" text NULL, "short_description" varchar(150) NULL, "status_text" varchar(128) NOT NULL, "master_id" integer NULL REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shop_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(64) NOT NULL, "public_name" varchar(64) NOT NULL, "maintenance_message" varchar(300) NOT NULL, "description" text NOT NULL, "short_description" varchar(150) NOT NULL, "master_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_supplier_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "description" text NOT NULL, "master_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_taxclass_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(100) NOT NULL, "master_id" integer NULL REFERENCES "shuup_taxclass" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_tax_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(124) NOT NULL, "master_id" integer NULL REFERENCES "shuup_tax" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_waivingcostbehaviorcomponent_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "description" varchar(100) NOT NULL, "master_id" integer NULL REFERENCES "shuup_waivingcostbehaviorcomponent" ("servicebehaviorcomponent_ptr_id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_weightbasedpricerange_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "description" varchar(100) NOT NULL, "master_id" integer NULL REFERENCES "shuup_weightbasedpricerange" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_mediafolder_owners" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "mediafolder_id" integer NOT NULL REFERENCES "shuup_mediafolder" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_mediafolder" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "folder_id" integer NOT NULL REFERENCES "filer_folder" ("id") DEFERRABLE INITIALLY DEFERRED, "visible" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_suppliershop" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "is_approved" bool NOT NULL, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_attributelogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_attribute" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_carrierlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "target_id" integer NOT NULL REFERENCES "shuup_carrier" ("serviceprovider_ptr_id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_categorylogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_companycontactlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "target_id" integer NOT NULL REFERENCES "shuup_companycontact" ("contact_ptr_id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_contactgrouplogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_currencylogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_currency" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_customertaxgrouplogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_customertaxgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_manufacturerlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_manufacturer" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_orderlinelogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_orderline" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_orderlinetaxlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_orderlinetax" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_orderlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_order" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_paymentlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_payment" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_paymentmethodlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_paymentmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_paymentprocessorlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "target_id" integer NOT NULL REFERENCES "shuup_paymentprocessor" ("serviceprovider_ptr_id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_personcontactlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "target_id" integer NOT NULL REFERENCES "shuup_personcontact" ("contact_ptr_id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_productlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_productmedialogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_productmedia" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_savedaddresslogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_savedaddress" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_shipmentlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_shipment" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_shipmentproductlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_shipmentproduct" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_shippingmethodlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_shippingmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_shoplogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_shopproductlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_suppliedproductlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_suppliedproduct" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_supplierlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_taxclasslogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_taxclass" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_taxlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_tax" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_companycontact" ("contact_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "tax_number" varchar(64) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_countrylimitbehaviorcomponent" ("servicebehaviorcomponent_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "shuup_servicebehaviorcomponent" ("id") DEFERRABLE INITIALLY DEFERRED, "available_in_countries" text NULL, "available_in_european_countries" bool NOT NULL, "unavailable_in_countries" text NULL, "unavailable_in_european_countries" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_order" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "identifier" varchar(64) NULL UNIQUE, "label" varchar(32) NOT NULL, "key" varchar(32) NOT NULL UNIQUE, "reference_number" varchar(64) NULL UNIQUE, "phone" varchar(64) NOT NULL, "email" varchar(128) NOT NULL, "deleted" bool NOT NULL, "payment_status" integer NOT NULL, "shipping_status" integer NOT NULL, "payment_method_name" varchar(100) NOT NULL, "payment_data" text NULL, "shipping_method_name" varchar(100) NOT NULL, "shipping_data" text NULL, "extra_data" text NULL, "taxful_total_price_value" decimal NOT NULL, "taxless_total_price_value" decimal NOT NULL, "currency" varchar(4) NOT NULL, "prices_include_tax" bool NOT NULL, "display_currency" varchar(4) NOT NULL, "display_currency_rate" decimal NOT NULL, "ip_address" char(39) NULL, "order_date" datetime NOT NULL, "payment_date" datetime NULL, "language" varchar(10) NOT NULL, "customer_comment" text NOT NULL, "admin_comment" text NOT NULL, "require_verification" bool NOT NULL, "all_verified" bool NOT NULL, "marketing_permission" bool NOT NULL, "_codes" text NULL, "billing_address_id" integer NULL REFERENCES "shuup_immutableaddress" ("id") DEFERRABLE INITIALLY DEFERRED, "creator_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "customer_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "modified_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "payment_method_id" integer NULL REFERENCES "shuup_paymentmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "shipping_address_id" integer NULL REFERENCES "shuup_immutableaddress" ("id") DEFERRABLE INITIALLY DEFERRED, "shipping_method_id" integer NULL REFERENCES "shuup_shippingmethod" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "status_id" integer NOT NULL REFERENCES "shuup_orderstatus" ("id") DEFERRABLE INITIALLY DEFERRED, "orderer_id" integer NULL REFERENCES "shuup_personcontact" ("contact_ptr_id") DEFERRABLE INITIALLY DEFERRED, "account_manager_id" integer NULL REFERENCES "shuup_personcontact" ("contact_ptr_id") DEFERRABLE INITIALLY DEFERRED, "tax_group_id" integer NULL REFERENCES "shuup_customertaxgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "tax_number" varchar(64) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_productpackagelink" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quantity" decimal NOT NULL, "child_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "parent_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_attribute_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "master_id" integer NULL REFERENCES "shuup_attribute" ("id") DEFERRABLE INITIALLY DEFERRED, "name" varchar(256) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_shipment" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "status" integer NOT NULL, "tracking_code" varchar(64) NOT NULL, "description" varchar(255) NOT NULL, "volume" decimal NOT NULL, "weight" decimal NOT NULL, "identifier" varchar(64) NULL UNIQUE, "type" integer NOT NULL, "order_id" integer NULL REFERENCES "shuup_order" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "tracking_url" varchar(200) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_orderline" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "ordering" integer NOT NULL, "type" integer NOT NULL, "text" varchar(256) NOT NULL, "accounting_identifier" varchar(32) NOT NULL, "require_verification" bool NOT NULL, "verified" bool NOT NULL, "extra_data" text NULL, "quantity" decimal NOT NULL, "base_unit_price_value" decimal NOT NULL, "discount_amount_value" decimal NOT NULL, "order_id" integer NOT NULL REFERENCES "shuup_order" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "sku" varchar(128) NOT NULL, "parent_line_id" integer NULL REFERENCES "shuup_orderline" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_attributechoiceoption" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "attribute_id" integer NOT NULL REFERENCES "shuup_attribute" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_attributechoiceoption_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(256) NOT NULL, "master_id" integer NULL REFERENCES "shuup_attributechoiceoption" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_attribute" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NOT NULL UNIQUE, "searchable" bool NOT NULL, "type" integer NOT NULL, "visibility_mode" integer NOT NULL, "max_choices" integer unsigned NOT NULL CHECK ("max_choices" >= 0), "ordering" integer NOT NULL, "min_choices" integer unsigned NOT NULL CHECK ("min_choices" >= 0));
CREATE TABLE IF NOT EXISTS "shuup_suppliermodule" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "module_identifier" varchar(64) NOT NULL UNIQUE, "name" varchar(64) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_product" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "deleted" bool NOT NULL, "mode" integer NOT NULL, "shipping_mode" integer NOT NULL, "sku" varchar(128) NOT NULL UNIQUE, "gtin" varchar(40) NOT NULL, "barcode" varchar(40) NOT NULL, "accounting_identifier" varchar(32) NOT NULL, "profit_center" varchar(32) NOT NULL, "cost_center" varchar(32) NOT NULL, "width" decimal NOT NULL, "height" decimal NOT NULL, "depth" decimal NOT NULL, "net_weight" decimal NOT NULL, "gross_weight" decimal NOT NULL, "manufacturer_id" integer NULL REFERENCES "shuup_manufacturer" ("id") DEFERRABLE INITIALLY DEFERRED, "primary_image_id" integer NULL REFERENCES "shuup_productmedia" ("id") DEFERRABLE INITIALLY DEFERRED, "sales_unit_id" integer NULL REFERENCES "shuup_salesunit" ("id") DEFERRABLE INITIALLY DEFERRED, "tax_class_id" integer NOT NULL REFERENCES "shuup_taxclass" ("id") DEFERRABLE INITIALLY DEFERRED, "type_id" integer NULL REFERENCES "shuup_producttype" ("id") DEFERRABLE INITIALLY DEFERRED, "kind" integer NOT NULL, "variation_parent_id" integer NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_supplier_supplier_modules" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "suppliermodule_id" integer NOT NULL REFERENCES "shuup_suppliermodule" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_supplier" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "name" varchar(128) NOT NULL, "type" integer NOT NULL, "stock_managed" bool NOT NULL, "module_data" text NULL, "enabled" bool NOT NULL, "contact_address_id" integer NULL REFERENCES "shuup_mutableaddress" ("id") DEFERRABLE INITIALLY DEFERRED, "created_on" datetime NOT NULL, "logo_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "modified_on" datetime NOT NULL, "options" text NULL, "deleted" bool NOT NULL, "slug" varchar(255) NULL);
CREATE TABLE IF NOT EXISTS "shuup_backgroundtask" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "queue" varchar(128) NOT NULL, "identifier" varchar(128) NOT NULL UNIQUE, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "function" text NOT NULL, "arguments" text NULL, "shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_backgroundtaskexecution" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "started_on" datetime NOT NULL, "finished_on" datetime NULL, "status" integer NOT NULL, "result" text NULL, "error_log" text NULL, "task_id" integer NOT NULL REFERENCES "shuup_backgroundtask" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_orderstatus_allowed_next_statuses" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "from_orderstatus_id" integer NOT NULL REFERENCES "shuup_orderstatus" ("id") DEFERRABLE INITIALLY DEFERRED, "to_orderstatus_id" integer NOT NULL REFERENCES "shuup_orderstatus" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_orderstatus" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NOT NULL UNIQUE, "ordering" integer NOT NULL, "role" integer NOT NULL, "default" bool NOT NULL, "is_active" bool NOT NULL, "visible_for_customer" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_orderstatushistory" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "description" text NULL, "creator_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "next_order_status_id" integer NOT NULL REFERENCES "shuup_orderstatus" ("id") DEFERRABLE INITIALLY DEFERRED, "order_id" integer NULL REFERENCES "shuup_order" ("id") DEFERRABLE INITIALLY DEFERRED, "previous_order_status_id" integer NULL REFERENCES "shuup_orderstatus" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productattribute_chosen_options" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "productattribute_id" integer NOT NULL REFERENCES "shuup_productattribute" ("id") DEFERRABLE INITIALLY DEFERRED, "attributechoiceoption_id" integer NOT NULL REFERENCES "shuup_attributechoiceoption" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_salesunit_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(128) NOT NULL, "symbol" varchar(128) NOT NULL, "master_id" integer NULL REFERENCES "shuup_salesunit" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productcatalogpricerule" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "module_identifier" varchar(100) NOT NULL, "contact_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "contact_group_id" integer NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productcatalogdiscountedpricerule" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "module_identifier" varchar(100) NOT NULL, "valid_start_date" datetime NULL, "valid_end_date" datetime NULL, "valid_start_hour" time NULL, "valid_end_hour" time NULL, "valid_weekday" integer NULL, "contact_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "contact_group_id" integer NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productcatalogdiscountedprice" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "discounted_price_value" decimal NULL, "catalog_rule_id" integer NOT NULL REFERENCES "shuup_productcatalogdiscountedpricerule" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productcatalogprice" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "price_value" decimal NOT NULL, "is_available" bool NOT NULL, "catalog_rule_id" integer NULL REFERENCES "shuup_productcatalogpricerule" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "discounts_timerange" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "from_hour" time NOT NULL, "to_hour" time NOT NULL, "weekday" integer NOT NULL, "happy_hour_id" integer NOT NULL REFERENCES "discounts_happyhour" ("id") DEFERRABLE INITIALLY DEFERRED, "parent_id" integer NULL REFERENCES "discounts_timerange" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "discounts_discount_happy_hours" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "discount_id" integer NOT NULL REFERENCES "discounts_discount" ("id") DEFERRABLE INITIALLY DEFERRED, "happyhour_id" integer NOT NULL REFERENCES "discounts_happyhour" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "discounts_discount" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(120) NULL, "identifier" varchar(64) NULL UNIQUE, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "active" bool NOT NULL, "start_datetime" datetime NULL, "end_datetime" datetime NULL, "exclude_selected_category" bool NOT NULL, "discounted_price_value" decimal NULL, "discount_amount_value" decimal NULL, "discount_percentage" decimal NULL, "category_id" integer NULL REFERENCES "shuup_category" ("id") DEFERRABLE INITIALLY DEFERRED, "contact_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "contact_group_id" integer NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "created_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "modified_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "discounts_happyhour" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(120) NOT NULL, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "discounts_shopproductcatalogdiscountslink" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shop_product_id" integer NOT NULL UNIQUE REFERENCES "shuup_shopproduct" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "discounts_shopproductcatalogdiscountslink_discounts" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shopproductcatalogdiscountslink_id" integer NOT NULL REFERENCES "discounts_shopproductcatalogdiscountslink" ("id") DEFERRABLE INITIALLY DEFERRED, "discount_id" integer NOT NULL REFERENCES "discounts_discount" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "easy_thumbnails_source" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL);
CREATE TABLE IF NOT EXISTS "easy_thumbnails_thumbnail" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storage_hash" varchar(40) NOT NULL, "name" varchar(255) NOT NULL, "modified" datetime NOT NULL, "source_id" integer NOT NULL REFERENCES "easy_thumbnails_source" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "easy_thumbnails_thumbnaildimensions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "thumbnail_id" integer NOT NULL UNIQUE REFERENCES "easy_thumbnails_thumbnail" ("id") DEFERRABLE INITIALLY DEFERRED, "width" integer unsigned NULL CHECK ("width" >= 0), "height" integer unsigned NULL CHECK ("height" >= 0));
CREATE TABLE IF NOT EXISTS "filer_file" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "file" varchar(255) NULL, "sha1" varchar(40) NOT NULL, "has_all_mandatory_data" bool NOT NULL, "original_filename" varchar(255) NULL, "name" varchar(255) NOT NULL, "description" text NULL, "uploaded_at" datetime NOT NULL, "modified_at" datetime NOT NULL, "is_public" bool NOT NULL, "folder_id" integer NULL REFERENCES "filer_folder" ("id") DEFERRABLE INITIALLY DEFERRED, "owner_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "polymorphic_ctype_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "_file_size" bigint NULL);
CREATE TABLE IF NOT EXISTS "filer_image" ("_height" integer NULL, "_width" integer NULL, "date_taken" datetime NULL, "default_alt_text" varchar(255) NULL, "default_caption" varchar(255) NULL, "author" varchar(255) NULL, "must_always_publish_author_credit" bool NOT NULL, "must_always_publish_copyright" bool NOT NULL, "subject_location" varchar(64) NOT NULL, "file_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "filer_folder" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(255) NOT NULL, "uploaded_at" datetime NOT NULL, "created_at" datetime NOT NULL, "modified_at" datetime NOT NULL, "lft" integer unsigned NOT NULL CHECK ("lft" >= 0), "tree_id" integer unsigned NOT NULL CHECK ("tree_id" >= 0), "level" integer unsigned NOT NULL CHECK ("level" >= 0), "owner_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "rght" integer unsigned NOT NULL CHECK ("rght" >= 0), "parent_id" integer NULL REFERENCES "filer_folder" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "registration_supervisedregistrationprofile" ("registrationprofile_ptr_id" integer NOT NULL PRIMARY KEY REFERENCES "registration_registrationprofile" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "registration_registrationprofile" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" integer NOT NULL UNIQUE REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "activated" bool NOT NULL, "activation_key" varchar(64) NOT NULL);
CREATE TABLE IF NOT EXISTS "reversion_revision" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "date_created" datetime NOT NULL, "comment" text NOT NULL, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "reversion_version" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" varchar(191) NOT NULL, "format" varchar(255) NOT NULL, "serialized_data" text NOT NULL, "object_repr" text NOT NULL, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "revision_id" integer NOT NULL REFERENCES "reversion_revision" ("id") DEFERRABLE INITIALLY DEFERRED, "db" varchar(191) NOT NULL);
CREATE TABLE IF NOT EXISTS "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_encryptedconfigurationitem" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "key" varchar(100) NOT NULL, "value" varchar(255) NOT NULL, "shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_paymentmethod" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "enabled" bool NOT NULL, "choice_identifier" varchar(64) NOT NULL, "old_module_identifier" varchar(64) NOT NULL, "old_module_data" text NULL, "logo_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "tax_class_id" integer NOT NULL REFERENCES "shuup_taxclass" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "payment_processor_id" integer NULL REFERENCES "shuup_paymentprocessor" ("serviceprovider_ptr_id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_shippingmethod" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "enabled" bool NOT NULL, "choice_identifier" varchar(64) NOT NULL, "old_module_identifier" varchar(64) NOT NULL, "old_module_data" text NULL, "logo_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "tax_class_id" integer NOT NULL REFERENCES "shuup_taxclass" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "carrier_id" integer NULL REFERENCES "shuup_carrier" ("serviceprovider_ptr_id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_productmedia" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL UNIQUE, "kind" integer NOT NULL, "external_url" varchar(200) NULL, "enabled" bool NOT NULL, "public" bool NOT NULL, "purchased" bool NOT NULL, "file_id" integer NULL REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "ordering" integer NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_customer_group_pricing_cgpprice" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "price_value" decimal NOT NULL, "group_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_customer_group_pricing_cgpdiscount" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "discount_amount_value" decimal NOT NULL, "group_id" integer NOT NULL REFERENCES "shuup_contactgroup" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_front_storedbasket_products" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "storedbasket_id" integer NOT NULL REFERENCES "shuup_front_storedbasket" ("id") DEFERRABLE INITIALLY DEFERRED, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_front_storedbasket" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "key" varchar(32) NOT NULL, "created_on" datetime NOT NULL, "updated_on" datetime NOT NULL, "persistent" bool NOT NULL, "deleted" bool NOT NULL, "finished" bool NOT NULL, "title" varchar(64) NOT NULL, "data" text NOT NULL, "taxless_total_price_value" decimal NULL, "taxful_total_price_value" decimal NULL, "currency" varchar(4) NOT NULL, "prices_include_tax" bool NOT NULL, "product_count" integer NOT NULL, "creator_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "customer_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "class_spec" varchar(256) NOT NULL, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "orderer_id" integer NULL REFERENCES "shuup_personcontact" ("contact_ptr_id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_xtheme_themesettings" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "theme_identifier" varchar(64) NOT NULL, "active" bool NOT NULL, "data" text NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_xtheme_savedviewconfig" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "shop_id" integer NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "theme_identifier" varchar(64) NOT NULL, "view_name" varchar(64) NOT NULL, "created_on" datetime NOT NULL, "status" integer NOT NULL, "data" text NOT NULL, "modified_on" datetime NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_xtheme_snippet" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "location" varchar(64) NOT NULL, "snippet_type" varchar(20) NOT NULL, "snippet" text NOT NULL, "themes" text NULL, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "name" varchar(50) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdpruserconsent" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdpruserconsentdocument" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "page_id" integer NOT NULL REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED, "version_id" integer NOT NULL REFERENCES "reversion_version" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdpruserconsent_documents" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "gdpruserconsent_id" integer NOT NULL REFERENCES "shuup_gdpr_gdpruserconsent" ("id") DEFERRABLE INITIALLY DEFERRED, "gdpruserconsentdocument_id" integer NOT NULL REFERENCES "shuup_gdpr_gdpruserconsentdocument" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdprsettings_consent_pages" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "gdprsettings_id" integer NOT NULL REFERENCES "shuup_gdpr_gdprsettings" ("id") DEFERRABLE INITIALLY DEFERRED, "page_id" integer NOT NULL REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdprsettings" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "enabled" bool NOT NULL, "shop_id" integer NOT NULL UNIQUE REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "privacy_policy_page_id" integer NULL REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED, "skip_consent_on_auth" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdprcookiecategory" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "always_active" bool NOT NULL, "cookies" text NOT NULL, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "default_active" bool NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdprcookiecategory_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" varchar(64) NOT NULL, "how_is_used" text NOT NULL, "master_id" integer NULL REFERENCES "shuup_gdpr_gdprcookiecategory" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdprsettings_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "cookie_banner_content" text NOT NULL, "cookie_privacy_excerpt" text NOT NULL, "auth_consent_text" text NOT NULL, "master_id" integer NULL REFERENCES "shuup_gdpr_gdprsettings" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_gdpr_gdprcookiecategory_block_snippets" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "gdprcookiecategory_id" integer NOT NULL REFERENCES "shuup_gdpr_gdprcookiecategory" ("id") DEFERRABLE INITIALLY DEFERRED, "snippet_id" integer NOT NULL REFERENCES "shuup_xtheme_snippet" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_notify_notification" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "recipient_type" integer NOT NULL, "created_on" datetime NOT NULL, "message" varchar(140) NOT NULL, "identifier" varchar(64) NULL, "priority" integer NOT NULL, "data" text NULL, "marked_read" bool NOT NULL, "marked_read_on" datetime NULL, "marked_read_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "recipient_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_notify_script" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "event_identifier" varchar(64) NOT NULL, "identifier" varchar(64) NULL UNIQUE, "created_on" datetime NOT NULL, "name" varchar(64) NOT NULL, "enabled" bool NOT NULL, "step_data" text NOT NULL, "template" varchar(64) NULL, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_notify_emailtemplate" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(60) NOT NULL, "template" text NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_notify_scriptlogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_notify_script" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_simple_cms_pageopengraph" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "og_type" varchar(10) NOT NULL, "image_id" integer NULL REFERENCES "filer_image" ("file_ptr_id") DEFERRABLE INITIALLY DEFERRED, "page_id" integer NOT NULL UNIQUE REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_simple_cms_page" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "available_from" datetime NULL, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "identifier" varchar(64) NULL, "visible_in_menu" bool NOT NULL, "list_children_on_page" bool NOT NULL, "lft" integer unsigned NOT NULL CHECK ("lft" >= 0), "rght" integer unsigned NOT NULL CHECK ("rght" >= 0), "tree_id" integer unsigned NOT NULL CHECK ("tree_id" >= 0), "level" integer unsigned NOT NULL CHECK ("level" >= 0), "created_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "modified_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "deleted" bool NOT NULL, "show_child_timestamps" bool NOT NULL, "render_title" bool NOT NULL, "template_name" text NOT NULL, "supplier_id" integer NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "available_to" datetime NULL, "parent_id" integer NULL REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_simple_cms_pageopengraph_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "title" varchar(100) NOT NULL, "description" text NOT NULL, "section" varchar(256) NOT NULL, "tags" varchar(256) NOT NULL, "article_author" varchar(100) NOT NULL, "master_id" integer NULL REFERENCES "shuup_simple_cms_pageopengraph" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_simple_cms_page_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "title" varchar(256) NOT NULL, "url" varchar(100) NULL, "content" text NOT NULL, "master_id" integer NULL REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_simple_cms_page_available_permission_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "page_id" integer NOT NULL REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_simple_cms_pagelogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_simple_cms_page" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_tasks_taskcomment" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "visibility" integer NOT NULL, "body" text NOT NULL, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "author_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "task_id" integer NOT NULL REFERENCES "shuup_tasks_task" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_tasks_tasktype" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "identifier" varchar(64) NULL, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_tasks_task" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(60) NOT NULL, "status" integer NOT NULL, "priority" integer unsigned NOT NULL CHECK ("priority" >= 0), "completed_on" datetime NULL, "created_on" datetime NOT NULL, "modified_on" datetime NOT NULL, "assigned_to_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "completed_by_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "creator_id" integer NULL REFERENCES "shuup_contact" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "type_id" integer NOT NULL REFERENCES "shuup_tasks_tasktype" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_tasks_tasktype_translation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "language_code" varchar(15) NOT NULL, "name" text NOT NULL, "master_id" integer NULL REFERENCES "shuup_tasks_tasktype" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_tasks_tasklogentry" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "identifier" varchar(256) NOT NULL, "kind" integer NOT NULL, "extra" text NULL, "target_id" integer NOT NULL REFERENCES "shuup_tasks_task" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "message" varchar(1024) NOT NULL);
CREATE TABLE IF NOT EXISTS "shuup_xtheme_font" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(128) NOT NULL, "css_value" varchar(128) NOT NULL, "eot_id" integer NULL REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED, "svg_id" integer NULL REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED, "ttf_id" integer NULL REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED, "woff_id" integer NULL REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED, "woff2_id" integer NULL REFERENCES "filer_file" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "shuup_xtheme_adminthemesettings" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "primary_color" varchar(7) NOT NULL, "secondary_color" varchar(7) NOT NULL, "text_color" varchar(7) NOT NULL, "success_color" varchar(7) NOT NULL, "danger_color" varchar(7) NOT NULL, "base_font_size" varchar(10) NOT NULL, "active" bool NOT NULL, "admin_body_font_id" integer NULL REFERENCES "shuup_xtheme_font" ("id") DEFERRABLE INITIALLY DEFERRED, "admin_header_font_id" integer NULL REFERENCES "shuup_xtheme_font" ("id") DEFERRABLE INITIALLY DEFERRED, "shop_id" integer NOT NULL UNIQUE REFERENCES "shuup_shop" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "simple_supplier_stockadjustment" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "created_on" datetime NOT NULL, "delta" decimal NOT NULL, "purchase_price_value" decimal NOT NULL, "created_by_id" integer NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "type" integer NOT NULL, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "simple_supplier_stockcount" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "logical_count" decimal NOT NULL, "physical_count" decimal NOT NULL, "stock_value_value" decimal NOT NULL, "product_id" integer NOT NULL REFERENCES "shuup_product" ("id") DEFERRABLE INITIALLY DEFERRED, "supplier_id" integer NOT NULL REFERENCES "shuup_supplier" ("id") DEFERRABLE INITIALLY DEFERRED, "alert_limit" decimal NOT NULL, "stock_managed" bool NOT NULL);